# -*- coding: utf-8 -*-
import requests
import json,time,os
from selenium import webdriver
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.common.action_chains import ActionChains



PATH = lambda p: os.path.abspath(os.path.join(os.path.dirname(__file__), p))

host='http://192.168.1.82:8515'

##--------------------------------------获取admin-token----------------------------------------------
#登录 获取token-admin
dl_url=host+'/api/auth/login'
dl_header={'Accept': 'application/json, text/plain, */*',
            'Accept-Encoding': 'gzip, deflate',
            'Accept-Language': 'zh-CN,zh;q=0.9',
            'Connection': 'keep-alive',
            'Content-Length': '311',
            'Content-Type': 'application/x-www-form-urlencoded',
            'Host': '192.168.1.82:8515',
            'Origin': 'http://192.168.1.82:8515',
            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.87 Safari/537.36'}
dl_data ='version=AES%28cc95c476c6cf74ed916f934a05bb0da3a64e769de4e7f5320347e4fc6bfa6f5248d1144f4813e55d5c0807dae20acd80%29&tenant=AES%2845cf55246a66a7817cca335b7b254312%29&name=AES%28414e48388a4ac93aa9707d5ac1b0d441%29&password=AES%2838cbd271dcecd23763faed1c4e6c9b37%29&remember=AES%28482bdeb02d7397fe752a313e4fe9b976%29'
rp=requests.post(url=dl_url,data=dl_data,headers=dl_header).text
rp=rp.split('"')
token=rp[5]

#header1----admin
header1={'Accept':'application/json, text/plain, */*',
        'Accept-Encoding':'gzip, deflate',
        'Accept-Language':'zh-CN,zh;q=0.9',
        'Connection': 'keep-alive',
        'Content-Length': '88',
        'Content-Type': 'application/json;charset=UTF-8',
        'Host': '192.168.1.82:8515',
        'Origin': 'http://192.168.1.82:8515',
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.87 Safari/537.36',
        'X-AUTH-TOKEN': 'Bearer '+token}

#----------------------------------------创建角色(dir1)---------------------------------------------------
#创建角色
cjjs_url =host+'/api/role/save'
cjjs_json='{"name":"auto_js","permissions":[{"code":"02","route":"/dataIntegration","children":[{"code":"0201","route":"/resourceMan","children":[],"name":"资源目录","enName":"Resource Directory","icon":"fa fa-server nav","description":null,"id":"e49d11e5-e581-40ce-9eaf-3ecc8a8d8c89","type":2,"enabled":1,"url":"/api/woven/resource/roots/","order":9,"zhName":"资源目录","halfSelect":true},{"code":"0202","route":"/dataMan","children":[],"name":"文件管理","enName":"File Management","icon":"fa fa-file-zip-o nav","description":null,"id":"fb9fbe56-c7af-4574-ac85-2adbf412224b","type":2,"enabled":1,"url":"/api/oss/file/","order":10,"zhName":"文件管理","halfSelect":true},{"code":"0203","route":"/synchronization","children":[],"name":"数据导入","enName":"Data Import","icon":"fa fa-cloud-download nav","description":null,"id":"0abc4226-d610-4133-8b1b-02f331a6ea1b","type":2,"enabled":1,"url":"/api/woven/synchronizations/dataSyncJobs/query/","order":11,"zhName":"数据导入","halfSelect":true},{"code":"0204","route":"/fileSynchronization","children":[],"name":"文件导入","enName":"File Import","icon":"fa fa-download nav","description":null,"id":"b4047c26-707b-45ba-ac10-8ba7333f8d63","type":2,"enabled":1,"url":"/api/woven/synchronizations/fileSyncJobs/query/","order":12,"zhName":"文件导入","halfSelect":true},{"code":"0205","route":"/collector","children":[],"name":"采集器","enName":"Data Collector","icon":"fa fa-shopping-basket nav","description":null,"id":"054da034-91c7-4aea-8889-1da8363e09ab","type":2,"enabled":1,"url":"/api/woven/collectors/query/","order":13,"zhName":"采集器","halfSelect":true},{"code":"0206","route":"/objectSynchronization","children":[],"name":"对象采集","enName":"Object Data Collector","icon":"fa fa-download nav","description":null,"id":"46d442ba-69e1-41f7-b750-25d7f09c7b35","type":2,"enabled":1,"url":"/api/woven/synchronizations/objectSyncJobs/query/","order":14,"zhName":"对象采集","halfSelect":true}],"name":"数据集成","enName":"Data Integration","icon":"icon iconfont icon-ir-integration nav","description":null,"id":"909a667d-9002-4ad4-ba17-a926076ef8af","type":1,"enabled":1,"url":"/api/woven/dataintegration/","order":8,"zhName":"数据集成","halfSelect":true},{"code":"0201","route":"/resourceMan","children":[],"name":"资源目录","enName":"Resource Directory","icon":"fa fa-server nav","description":null,"id":"e49d11e5-e581-40ce-9eaf-3ecc8a8d8c89","type":2,"enabled":1,"url":"/api/woven/resource/roots/","order":9,"zhName":"资源目录","halfSelect":true},{"code":"0202","route":"/dataMan","children":[],"name":"文件管理","enName":"File Management","icon":"fa fa-file-zip-o nav","description":null,"id":"fb9fbe56-c7af-4574-ac85-2adbf412224b","type":2,"enabled":1,"url":"/api/oss/file/","order":10,"zhName":"文件管理","halfSelect":true},{"code":"0203","route":"/synchronization","children":[],"name":"数据导入","enName":"Data Import","icon":"fa fa-cloud-download nav","description":null,"id":"0abc4226-d610-4133-8b1b-02f331a6ea1b","type":2,"enabled":1,"url":"/api/woven/synchronizations/dataSyncJobs/query/","order":11,"zhName":"数据导入","halfSelect":true},{"code":"0204","route":"/fileSynchronization","children":[],"name":"文件导入","enName":"File Import","icon":"fa fa-download nav","description":null,"id":"b4047c26-707b-45ba-ac10-8ba7333f8d63","type":2,"enabled":1,"url":"/api/woven/synchronizations/fileSyncJobs/query/","order":12,"zhName":"文件导入","halfSelect":true},{"code":"0205","route":"/collector","children":[],"name":"采集器","enName":"Data Collector","icon":"fa fa-shopping-basket nav","description":null,"id":"054da034-91c7-4aea-8889-1da8363e09ab","type":2,"enabled":1,"url":"/api/woven/collectors/query/","order":13,"zhName":"采集器","halfSelect":true},{"code":"0206","route":"/objectSynchronization","children":[],"name":"对象采集","enName":"Object Data Collector","icon":"fa fa-download nav","description":null,"id":"46d442ba-69e1-41f7-b750-25d7f09c7b35","type":2,"enabled":1,"url":"/api/woven/synchronizations/objectSyncJobs/query/","order":14,"zhName":"对象采集","halfSelect":true},{"code":"03","route":"/dataGovernance","children":[{"code":"0301","route":"/qualityAnalysis/analysisTemplate","children":[],"name":"质量分析","enName":"Dataset Quality","icon":"fa fa-balance-scale nav","description":null,"id":"2783b20d-63dc-4001-b89a-e380bd03f654","type":2,"enabled":1,"url":"/api/woven/zmod/query/","order":16,"zhName":"质量分析","halfSelect":true},{"code":"0302","route":"/schemaAnalysis/:id/","children":[],"name":"元数据分析","enName":"Schema Relation","icon":"fa fa-flask nav","description":null,"id":"1fe39e2a-4caf-4634-8c34-3ade1d786d69","type":2,"enabled":1,"url":"/api/woven/metadataAnalysis/","order":17,"zhName":"元数据分析","halfSelect":true},{"code":"0303","route":"/kinship/:id/","children":[],"name":"血缘分析","enName":"Dataset Lineage","icon":"fa fa-flask nav","description":null,"id":"563e03e4-d640-4dd3-8d78-2aed82e44a25","type":2,"enabled":1,"url":"/api/woven/consanguinityAnalysis/","order":18,"zhName":"血缘分析","halfSelect":true}],"name":"数据治理","enName":"Data Governance","icon":"icon iconfont icon-ir-govern nav","description":null,"id":"55583aa9-5617-4e6d-8b3e-bf9ba762b0cf","type":1,"enabled":1,"url":"/api/woven/datagovernance/","order":15,"zhName":"数据治理","halfSelect":true},{"code":"0301","route":"/qualityAnalysis/analysisTemplate","children":[],"name":"质量分析","enName":"Dataset Quality","icon":"fa fa-balance-scale nav","description":null,"id":"2783b20d-63dc-4001-b89a-e380bd03f654","type":2,"enabled":1,"url":"/api/woven/zmod/query/","order":16,"zhName":"质量分析","halfSelect":true},{"code":"0302","route":"/schemaAnalysis/:id/","children":[],"name":"元数据分析","enName":"Schema Relation","icon":"fa fa-flask nav","description":null,"id":"1fe39e2a-4caf-4634-8c34-3ade1d786d69","type":2,"enabled":1,"url":"/api/woven/metadataAnalysis/","order":17,"zhName":"元数据分析","halfSelect":true},{"code":"0303","route":"/kinship/:id/","children":[],"name":"血缘分析","enName":"Dataset Lineage","icon":"fa fa-flask nav","description":null,"id":"563e03e4-d640-4dd3-8d78-2aed82e44a25","type":2,"enabled":1,"url":"/api/woven/consanguinityAnalysis/","order":18,"zhName":"血缘分析","halfSelect":true},{"code":"04","route":"/dataAnalysis","children":[{"code":"0401","route":"/design","children":[],"name":"流程管理","enName":"Flow Management","icon":"fa fa-sitemap nav","description":null,"id":"4e4843ab-a282-42a1-b44c-f922c874042e","type":2,"enabled":1,"url":"/api/woven/resource/roots/","order":20,"zhName":"流程管理","halfSelect":true},{"code":"0402","route":"/interactiveQuery","children":[],"name":"交互式查询","enName":"Interactive Query","icon":"icon iconfont icon-ir-integration nav","description":null,"id":"15bb0bf9-4c87-4da5-8d49-14aee00a4ea3","type":2,"enabled":1,"url":"/api/woven/interactiveQuery/","order":21,"zhName":"交互式查询","halfSelect":true},{"code":"0403","route":"/resourceManProject","children":[],"name":"项目目录","enName":"Data Warehouse View","icon":"fa fa-tasks nav","description":null,"id":"a94281f2-c272-4788-b237-2760413185d2","type":2,"enabled":1,"url":"/api/woven/project/projects/","order":22,"zhName":"项目目录","halfSelect":true},{"code":"0404","route":"","children":[{"code":"040401","route":"/processconfig/workflow-selector","children":[],"name":"工作流选择器","enName":"Workflow Selecter","icon":"fa fa-tasks nav","description":null,"id":"3734ec92-d1f1-42e3-bda5-7c760b846dfa","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":24,"zhName":"工作流选择器","halfSelect":true},{"code":"040402","route":"/processconfig/dataflow-selector","children":[],"name":"批处理选择器","enName":"Batch Step Selecter","icon":"fa fa-tasks nav","description":null,"id":"18a62f0c-13c8-401e-8022-5e69ab232b1a","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":25,"zhName":"批处理选择器","halfSelect":true},{"code":"040403","route":"/processconfig/dataflow-udf","children":[],"name":"自定义函数","enName":"Batch UDF","icon":"icon iconfont icon-ir-integration nav","description":null,"id":"65bb0f61-9760-4107-be1b-553f601d2869","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":26,"zhName":"自定义函数","halfSelect":true},{"code":"040404","route":"/processconfig/filter-class","children":[],"name":"过滤器","enName":"Batch Step Filter","icon":"fa fa-tasks nav","description":null,"id":"de83ab97-f7ef-4bb9-b5e5-6758d85f06a3","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":27,"zhName":"过滤器","halfSelect":true},{"code":"040405","route":"/processconfig/jdbc-driver","children":[],"name":"数据库驱动","enName":"Database Driver(JDBC)","icon":"fa fa-sitemap nav","description":null,"id":"ab59a530-c95e-4210-b782-0cc7c011df58","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":28,"zhName":"数据库驱动","halfSelect":true},{"code":"040406","route":"/processconfig/step-define","children":[],"name":"自定义节点","enName":"Customized Batch Node","icon":"fa fa-sitemap nav","description":null,"id":"eedd55dc-7387-4bc1-928a-37165f6c13b4","type":2,"enabled":1,"url":"/api/customizestep/query","order":29,"zhName":"自定义节点","halfSelect":true},{"code":"040407","route":"/processconfig/manage","children":[],"name":"依赖包管理","enName":"Dependency Management","icon":"fa fa-sitemap nav","description":null,"id":"33701da8-a65e-4d47-a6d6-4184ffe6bf0f","type":2,"enabled":1,"url":"/api/processconfig/manage","order":30,"zhName":"依赖包管理","halfSelect":true}],"name":"配置","enName":"Configuration","icon":"fa fa-gears nav","description":null,"id":"1e7b06f5-105d-4c3d-b030-2cb4f1c45d03","type":2,"enabled":1,"url":"/api/woven/configuration/","order":23,"zhName":"配置","halfSelect":true},{"code":"0405","route":"/hippoScheduleList","children":[],"name":"任务调度","enName":"Job Schedule","icon":"fa fa-tasks nav","description":null,"id":"e95e2c3c-f24c-46da-9ced-d559256286c4","type":2,"enabled":1,"url":"/api/woven/taskScheduling/","order":31,"zhName":"任务调度","halfSelect":true}],"name":"数据分析","enName":"Data Analytics","icon":"icon iconfont icon-ir-analyze nav","description":null,"id":"54c387aa-4c88-438d-8bc0-3508c1343d3b","type":1,"enabled":1,"url":"/api/woven/dataAnalysis/","order":19,"zhName":"数据分析","halfSelect":true},{"code":"0401","route":"/design","children":[],"name":"流程管理","enName":"Flow Management","icon":"fa fa-sitemap nav","description":null,"id":"4e4843ab-a282-42a1-b44c-f922c874042e","type":2,"enabled":1,"url":"/api/woven/resource/roots/","order":20,"zhName":"流程管理","halfSelect":true},{"code":"0402","route":"/interactiveQuery","children":[],"name":"交互式查询","enName":"Interactive Query","icon":"icon iconfont icon-ir-integration nav","description":null,"id":"15bb0bf9-4c87-4da5-8d49-14aee00a4ea3","type":2,"enabled":1,"url":"/api/woven/interactiveQuery/","order":21,"zhName":"交互式查询","halfSelect":true},{"code":"0403","route":"/resourceManProject","children":[],"name":"项目目录","enName":"Data Warehouse View","icon":"fa fa-tasks nav","description":null,"id":"a94281f2-c272-4788-b237-2760413185d2","type":2,"enabled":1,"url":"/api/woven/project/projects/","order":22,"zhName":"项目目录","halfSelect":true},{"code":"0404","route":"","children":[{"code":"040401","route":"/processconfig/workflow-selector","children":[],"name":"工作流选择器","enName":"Workflow Selecter","icon":"fa fa-tasks nav","description":null,"id":"3734ec92-d1f1-42e3-bda5-7c760b846dfa","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":24,"zhName":"工作流选择器","halfSelect":true},{"code":"040402","route":"/processconfig/dataflow-selector","children":[],"name":"批处理选择器","enName":"Batch Step Selecter","icon":"fa fa-tasks nav","description":null,"id":"18a62f0c-13c8-401e-8022-5e69ab232b1a","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":25,"zhName":"批处理选择器","halfSelect":true},{"code":"040403","route":"/processconfig/dataflow-udf","children":[],"name":"自定义函数","enName":"Batch UDF","icon":"icon iconfont icon-ir-integration nav","description":null,"id":"65bb0f61-9760-4107-be1b-553f601d2869","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":26,"zhName":"自定义函数","halfSelect":true},{"code":"040404","route":"/processconfig/filter-class","children":[],"name":"过滤器","enName":"Batch Step Filter","icon":"fa fa-tasks nav","description":null,"id":"de83ab97-f7ef-4bb9-b5e5-6758d85f06a3","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":27,"zhName":"过滤器","halfSelect":true},{"code":"040405","route":"/processconfig/jdbc-driver","children":[],"name":"数据库驱动","enName":"Database Driver(JDBC)","icon":"fa fa-sitemap nav","description":null,"id":"ab59a530-c95e-4210-b782-0cc7c011df58","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":28,"zhName":"数据库驱动","halfSelect":true},{"code":"040406","route":"/processconfig/step-define","children":[],"name":"自定义节点","enName":"Customized Batch Node","icon":"fa fa-sitemap nav","description":null,"id":"eedd55dc-7387-4bc1-928a-37165f6c13b4","type":2,"enabled":1,"url":"/api/customizestep/query","order":29,"zhName":"自定义节点","halfSelect":true},{"code":"040407","route":"/processconfig/manage","children":[],"name":"依赖包管理","enName":"Dependency Management","icon":"fa fa-sitemap nav","description":null,"id":"33701da8-a65e-4d47-a6d6-4184ffe6bf0f","type":2,"enabled":1,"url":"/api/processconfig/manage","order":30,"zhName":"依赖包管理","halfSelect":true}],"name":"配置","enName":"Configuration","icon":"fa fa-gears nav","description":null,"id":"1e7b06f5-105d-4c3d-b030-2cb4f1c45d03","type":2,"enabled":1,"url":"/api/woven/configuration/","order":23,"zhName":"配置","halfSelect":true},{"code":"040401","route":"/processconfig/workflow-selector","children":[],"name":"工作流选择器","enName":"Workflow Selecter","icon":"fa fa-tasks nav","description":null,"id":"3734ec92-d1f1-42e3-bda5-7c760b846dfa","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":24,"zhName":"工作流选择器","halfSelect":true},{"code":"040402","route":"/processconfig/dataflow-selector","children":[],"name":"批处理选择器","enName":"Batch Step Selecter","icon":"fa fa-tasks nav","description":null,"id":"18a62f0c-13c8-401e-8022-5e69ab232b1a","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":25,"zhName":"批处理选择器","halfSelect":true},{"code":"040403","route":"/processconfig/dataflow-udf","children":[],"name":"自定义函数","enName":"Batch UDF","icon":"icon iconfont icon-ir-integration nav","description":null,"id":"65bb0f61-9760-4107-be1b-553f601d2869","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":26,"zhName":"自定义函数","halfSelect":true},{"code":"040404","route":"/processconfig/filter-class","children":[],"name":"过滤器","enName":"Batch Step Filter","icon":"fa fa-tasks nav","description":null,"id":"de83ab97-f7ef-4bb9-b5e5-6758d85f06a3","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":27,"zhName":"过滤器","halfSelect":true},{"code":"040405","route":"/processconfig/jdbc-driver","children":[],"name":"数据库驱动","enName":"Database Driver(JDBC)","icon":"fa fa-sitemap nav","description":null,"id":"ab59a530-c95e-4210-b782-0cc7c011df58","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":28,"zhName":"数据库驱动","halfSelect":true},{"code":"040406","route":"/processconfig/step-define","children":[],"name":"自定义节点","enName":"Customized Batch Node","icon":"fa fa-sitemap nav","description":null,"id":"eedd55dc-7387-4bc1-928a-37165f6c13b4","type":2,"enabled":1,"url":"/api/customizestep/query","order":29,"zhName":"自定义节点","halfSelect":true},{"code":"040407","route":"/processconfig/manage","children":[],"name":"依赖包管理","enName":"Dependency Management","icon":"fa fa-sitemap nav","description":null,"id":"33701da8-a65e-4d47-a6d6-4184ffe6bf0f","type":2,"enabled":1,"url":"/api/processconfig/manage","order":30,"zhName":"依赖包管理","halfSelect":true},{"code":"0405","route":"/hippoScheduleList","children":[],"name":"任务调度","enName":"Job Schedule","icon":"fa fa-tasks nav","description":null,"id":"e95e2c3c-f24c-46da-9ced-d559256286c4","type":2,"enabled":1,"url":"/api/woven/taskScheduling/","order":31,"zhName":"任务调度","halfSelect":true},{"code":"05","route":"/realTimeComputing","children":[{"code":"0501","route":"/jobManage","children":[],"name":"作业管理","enName":"Job Management","icon":"fa fa-calendar-o nav","description":null,"id":"ad38179a-8086-462f-8cc0-05bf94a990db","type":2,"enabled":1,"url":"/api/streaming/job/list/","order":33,"zhName":"作业管理","halfSelect":true},{"code":"0502","route":"/jobOperation","children":[],"name":"作业运维","enName":"Job Operations","icon":"fa fa-leaf nav","description":null,"id":"ff0ffaba-5b5c-43a3-8552-b8b568d9c5dd","type":2,"enabled":1,"url":"/api/streaming/job/progress/list/","order":34,"zhName":"作业运维","halfSelect":true},{"code":"0503","route":"/jobTemplate","children":[],"name":"作业模板","enName":"Job Template","icon":"fa fa-calendar-o nav","description":null,"id":"0ac73bcf-ba57-4268-9586-ed9a4ada62ec","type":2,"enabled":1,"url":"/api/streaming/job/template/list/","order":35,"zhName":"作业模板","halfSelect":true},{"code":"0505","route":"/realtime/list/index","children":[],"name":"实时计算流程设计","enName":"Streaming Job Designer","icon":"fa fa-calendar-o nav","description":null,"id":"673bc843-01fb-4dfb-9ca3-0dea8e519451","type":2,"enabled":1,"url":"/api/streaming/job/realtime/list/","order":37,"zhName":"实时计算流程设计","halfSelect":true},{"code":"0506","route":"/realtime/list/tasklist","children":[],"name":"实时计算任务监控","enName":"Streaming Job Dashboard","icon":"fa fa-calendar-o nav","description":null,"id":"a38b875b-1516-4e85-ba2b-059315bf0803","type":2,"enabled":1,"url":"/api/streaming/job/realtime/task/","order":38,"zhName":"实时计算任务监控","halfSelect":true}],"name":"实时计算","enName":"Runtime Computing","icon":"icon iconfont icon-ir-attestation nav","description":null,"id":"664aef05-a867-4c6a-9287-e23c2f500f5b","type":1,"enabled":1,"url":"/api/woven/realtimeComputation/","order":32,"zhName":"实时计算","halfSelect":true},{"code":"0501","route":"/jobManage","children":[],"name":"作业管理","enName":"Job Management","icon":"fa fa-calendar-o nav","description":null,"id":"ad38179a-8086-462f-8cc0-05bf94a990db","type":2,"enabled":1,"url":"/api/streaming/job/list/","order":33,"zhName":"作业管理","halfSelect":true},{"code":"0502","route":"/jobOperation","children":[],"name":"作业运维","enName":"Job Operations","icon":"fa fa-leaf nav","description":null,"id":"ff0ffaba-5b5c-43a3-8552-b8b568d9c5dd","type":2,"enabled":1,"url":"/api/streaming/job/progress/list/","order":34,"zhName":"作业运维","halfSelect":true},{"code":"0503","route":"/jobTemplate","children":[],"name":"作业模板","enName":"Job Template","icon":"fa fa-calendar-o nav","description":null,"id":"0ac73bcf-ba57-4268-9586-ed9a4ada62ec","type":2,"enabled":1,"url":"/api/streaming/job/template/list/","order":35,"zhName":"作业模板","halfSelect":true},{"code":"0505","route":"/realtime/list/index","children":[],"name":"实时计算流程设计","enName":"Streaming Job Designer","icon":"fa fa-calendar-o nav","description":null,"id":"673bc843-01fb-4dfb-9ca3-0dea8e519451","type":2,"enabled":1,"url":"/api/streaming/job/realtime/list/","order":37,"zhName":"实时计算流程设计","halfSelect":true},{"code":"0506","route":"/realtime/list/tasklist","children":[],"name":"实时计算任务监控","enName":"Streaming Job Dashboard","icon":"fa fa-calendar-o nav","description":null,"id":"a38b875b-1516-4e85-ba2b-059315bf0803","type":2,"enabled":1,"url":"/api/streaming/job/realtime/task/","order":38,"zhName":"实时计算任务监控","halfSelect":true},{"code":"06","route":"/dataMonitoring","children":[{"code":"0601","route":"/hippo/index","children":[],"name":"运维管理","enName":"Operation","icon":"fa fa-life-buoy nav","description":null,"id":"e70bba2b-9447-44b5-bb44-9407f7bca3aa","type":2,"enabled":1,"url":"/api/woven/mochaitom/","order":40,"zhName":"运维管理","halfSelect":true},{"code":"0602","route":"/hippo/visualization","children":[],"name":"监控可视化","enName":"Job Dashboard","icon":"fa fa-line-chart nav","description":null,"id":"2528aec7-1407-45eb-993a-4330758f3c31","type":2,"enabled":1,"url":"/hippo/visualization/","order":41,"zhName":"监控可视化","halfSelect":true},{"code":"0603","route":"/hippo/visit","children":[],"name":"监控访问","enName":"Requst Dashboard","icon":"fa fa-line-chart nav","description":null,"id":"40098381-4098-4289-b2bb-33531cb1e84f","type":2,"enabled":1,"url":"/api/woven/accessMonitoring/","order":42,"zhName":"监控访问","halfSelect":true},{"code":"0604","route":"/hippo/taskControl","children":[{"code":"060401","route":"/hippo/schedule","children":[],"name":"任务调度","enName":"Job Schedule","icon":"fa fa-server nav","description":null,"id":"cd51af3b-aafc-40ca-b96b-6ed08d50457a","type":2,"enabled":1,"url":"/api/woven/taskScheduling/","order":44,"zhName":"任务调度","halfSelect":true},{"code":"060403","route":"/hippo/service","children":[],"name":"后台服务","enName":null,"icon":"fa fa-server nav","description":null,"id":"3797b852-8d43-4d00-bb24-9ac53a79e18b","type":2,"enabled":1,"url":"/api/woven/hippo/service/","order":46,"zhName":"后台服务","halfSelect":true},{"code":"060404","route":"/hippo/taskControl","children":[],"name":"任务监控","enName":"Job Monitor","icon":"fa fa-area-chart nav","description":null,"id":"dbca5f84-7421-421e-ae96-6a7c73ce6162","type":2,"enabled":1,"url":"/api/woven/taskMonitoring/","order":47,"zhName":"任务监控","halfSelect":true}],"name":"任务","enName":"Job","icon":"fa fa-area-chart nav","description":null,"id":"c0cb987e-eb53-4488-b080-888a6f733286","type":2,"enabled":1,"url":"/api/woven/taskMonitoring/","order":43,"zhName":"任务","halfSelect":true},{"code":"0611","route":"/hippo/taskWarnings","children":[],"name":"任务警告","enName":"Alert","icon":"fa fa-area-chart nav","description":null,"id":"f9c38e1c-b74d-41f2-925b-592f35938e78","type":2,"enabled":1,"url":"/hippo/taskWarnings","order":64,"zhName":"任务警告","halfSelect":true}],"name":"数据监控","enName":"Dashboard","icon":"icon iconfont icon-ir-monitoring nav","description":null,"id":"99c93c3d-86bb-4cd0-ba6a-3bfb0afb7ad1","type":1,"enabled":1,"url":"/api/woven/dataMonitoring/","order":39,"zhName":"数据监控","halfSelect":true},{"code":"0601","route":"/hippo/index","children":[],"name":"运维管理","enName":"Operation","icon":"fa fa-life-buoy nav","description":null,"id":"e70bba2b-9447-44b5-bb44-9407f7bca3aa","type":2,"enabled":1,"url":"/api/woven/mochaitom/","order":40,"zhName":"运维管理","halfSelect":true},{"code":"0602","route":"/hippo/visualization","children":[],"name":"监控可视化","enName":"Job Dashboard","icon":"fa fa-line-chart nav","description":null,"id":"2528aec7-1407-45eb-993a-4330758f3c31","type":2,"enabled":1,"url":"/hippo/visualization/","order":41,"zhName":"监控可视化","halfSelect":true},{"code":"0603","route":"/hippo/visit","children":[],"name":"监控访问","enName":"Requst Dashboard","icon":"fa fa-line-chart nav","description":null,"id":"40098381-4098-4289-b2bb-33531cb1e84f","type":2,"enabled":1,"url":"/api/woven/accessMonitoring/","order":42,"zhName":"监控访问","halfSelect":true},{"code":"0604","route":"/hippo/taskControl","children":[{"code":"060401","route":"/hippo/schedule","children":[],"name":"任务调度","enName":"Job Schedule","icon":"fa fa-server nav","description":null,"id":"cd51af3b-aafc-40ca-b96b-6ed08d50457a","type":2,"enabled":1,"url":"/api/woven/taskScheduling/","order":44,"zhName":"任务调度","halfSelect":true},{"code":"060403","route":"/hippo/service","children":[],"name":"后台服务","enName":null,"icon":"fa fa-server nav","description":null,"id":"3797b852-8d43-4d00-bb24-9ac53a79e18b","type":2,"enabled":1,"url":"/api/woven/hippo/service/","order":46,"zhName":"后台服务","halfSelect":true},{"code":"060404","route":"/hippo/taskControl","children":[],"name":"任务监控","enName":"Job Monitor","icon":"fa fa-area-chart nav","description":null,"id":"dbca5f84-7421-421e-ae96-6a7c73ce6162","type":2,"enabled":1,"url":"/api/woven/taskMonitoring/","order":47,"zhName":"任务监控","halfSelect":true}],"name":"任务","enName":"Job","icon":"fa fa-area-chart nav","description":null,"id":"c0cb987e-eb53-4488-b080-888a6f733286","type":2,"enabled":1,"url":"/api/woven/taskMonitoring/","order":43,"zhName":"任务","halfSelect":true},{"code":"060401","route":"/hippo/schedule","children":[],"name":"任务调度","enName":"Job Schedule","icon":"fa fa-server nav","description":null,"id":"cd51af3b-aafc-40ca-b96b-6ed08d50457a","type":2,"enabled":1,"url":"/api/woven/taskScheduling/","order":44,"zhName":"任务调度","halfSelect":true},{"code":"060403","route":"/hippo/service","children":[],"name":"后台服务","enName":null,"icon":"fa fa-server nav","description":null,"id":"3797b852-8d43-4d00-bb24-9ac53a79e18b","type":2,"enabled":1,"url":"/api/woven/hippo/service/","order":46,"zhName":"后台服务","halfSelect":true},{"code":"060404","route":"/hippo/taskControl","children":[],"name":"任务监控","enName":"Job Monitor","icon":"fa fa-area-chart nav","description":null,"id":"dbca5f84-7421-421e-ae96-6a7c73ce6162","type":2,"enabled":1,"url":"/api/woven/taskMonitoring/","order":47,"zhName":"任务监控","halfSelect":true},{"code":"0611","route":"/hippo/taskWarnings","children":[],"name":"任务警告","enName":"Alert","icon":"fa fa-area-chart nav","description":null,"id":"f9c38e1c-b74d-41f2-925b-592f35938e78","type":2,"enabled":1,"url":"/hippo/taskWarnings","order":64,"zhName":"任务警告","halfSelect":true},{"code":"08","route":"/systemConfig","children":[{"code":"0802","route":"/roleManagement","children":null,"name":"角色管理","enName":"Role Management","icon":"icon iconfont icon-ir-integration nav","description":null,"id":"75d41efa-7787-4dcb-b973-a8ae7bfae63a","type":2,"enabled":1,"url":"/api/woven/roleManagement/","order":69,"zhName":"角色管理","halfSelect":true},{"code":"0803","route":"/userManagement","children":null,"name":"用户管理","enName":"User Management","icon":"fa fa-user-circle nav","description":null,"id":"9102445e-60ac-4ac4-9dae-21faa443ee8a","type":2,"enabled":1,"url":"/api/woven/userManagement/","order":70,"zhName":"用户管理","halfSelect":true},{"code":"0804","route":"/logAudit","children":null,"name":"日志审计","enName":"Audit Log","icon":"fa fa-user-circle nav","description":null,"id":"a345142d-e9e2-42ee-9373-24e51705394f","type":2,"enabled":1,"url":"/api/logs/metrics/request/page/","order":71,"zhName":"日志审计","halfSelect":true},{"code":"0806","route":"/cluster","children":null,"name":"集群管理","enName":"Cluster Management","icon":"fa fa-user-circle nav","description":null,"id":"3f2d2946-d943-46b8-a748-2feb52fa115b","type":2,"enabled":1,"url":"/api/cluster/query","order":73,"zhName":"集群管理","halfSelect":true},{"code":"0807","route":"/license/activate","children":null,"name":"证书管理","enName":"License Management","icon":"fa fa-user-circle nav","description":null,"id":"73c1ef31-5da4-4e52-b59a-85f72db7d86c","type":2,"enabled":1,"url":"/license/activate","order":74,"zhName":"证书管理","halfSelect":true}],"name":"系统管理","enName":"System Configuration","icon":"icon iconfont icon-ir-attestation nav","description":null,"id":"8c6c804f-ba79-4050-acff-5903d0c603be","type":1,"enabled":1,"url":"/api/woven/privilegeManagement/","order":67,"zhName":"系统管理","halfSelect":true},{"code":"0802","route":"/roleManagement","children":null,"name":"角色管理","enName":"Role Management","icon":"icon iconfont icon-ir-integration nav","description":null,"id":"75d41efa-7787-4dcb-b973-a8ae7bfae63a","type":2,"enabled":1,"url":"/api/woven/roleManagement/","order":69,"zhName":"角色管理","halfSelect":true},{"code":"0803","route":"/userManagement","children":null,"name":"用户管理","enName":"User Management","icon":"fa fa-user-circle nav","description":null,"id":"9102445e-60ac-4ac4-9dae-21faa443ee8a","type":2,"enabled":1,"url":"/api/woven/userManagement/","order":70,"zhName":"用户管理","halfSelect":true},{"code":"0804","route":"/logAudit","children":null,"name":"日志审计","enName":"Audit Log","icon":"fa fa-user-circle nav","description":null,"id":"a345142d-e9e2-42ee-9373-24e51705394f","type":2,"enabled":1,"url":"/api/logs/metrics/request/page/","order":71,"zhName":"日志审计","halfSelect":true},{"code":"0806","route":"/cluster","children":null,"name":"集群管理","enName":"Cluster Management","icon":"fa fa-user-circle nav","description":null,"id":"3f2d2946-d943-46b8-a748-2feb52fa115b","type":2,"enabled":1,"url":"/api/cluster/query","order":73,"zhName":"集群管理","halfSelect":true},{"code":"0807","route":"/license/activate","children":null,"name":"证书管理","enName":"License Management","icon":"fa fa-user-circle nav","description":null,"id":"73c1ef31-5da4-4e52-b59a-85f72db7d86c","type":2,"enabled":1,"url":"/license/activate","order":74,"zhName":"证书管理","halfSelect":true}]}'
cjjs_json.replace('null','')
cjjs_json = json.loads(cjjs_json)
#cjjs_json ={"name":cjjs_name,"permissions":[{"code":"02","route":"/dataIntegration","children":[{"code":"0201","route":"/resourceMan","children":[],"name":"资源目录","enName":"Resource Directory","icon":"fa fa-server nav","description":null,"id":"e49d11e5-e581-40ce-9eaf-3ecc8a8d8c89","type":2,"enabled":1,"url":"/api/woven/resource/roots/","order":9,"zhName":"资源目录","halfSelect":true},{"code":"0202","route":"/dataMan","children":[],"name":"文件管理","enName":"File Management","icon":"fa fa-file-zip-o nav","description":null,"id":"fb9fbe56-c7af-4574-ac85-2adbf412224b","type":2,"enabled":1,"url":"/api/oss/file/","order":10,"zhName":"文件管理","halfSelect":true},{"code":"0203","route":"/synchronization","children":[],"name":"数据导入","enName":"Data Import","icon":"fa fa-cloud-download nav","description":null,"id":"0abc4226-d610-4133-8b1b-02f331a6ea1b","type":2,"enabled":1,"url":"/api/woven/synchronizations/dataSyncJobs/query/","order":11,"zhName":"数据导入","halfSelect":true},{"code":"0204","route":"/fileSynchronization","children":[],"name":"文件导入","enName":"File Import","icon":"fa fa-download nav","description":null,"id":"b4047c26-707b-45ba-ac10-8ba7333f8d63","type":2,"enabled":1,"url":"/api/woven/synchronizations/fileSyncJobs/query/","order":12,"zhName":"文件导入","halfSelect":true},{"code":"0205","route":"/collector","children":[],"name":"采集器","enName":"Data Collector","icon":"fa fa-shopping-basket nav","description":null,"id":"054da034-91c7-4aea-8889-1da8363e09ab","type":2,"enabled":1,"url":"/api/woven/collectors/query/","order":13,"zhName":"采集器","halfSelect":true},{"code":"0206","route":"/objectSynchronization","children":[],"name":"对象采集","enName":"Object Data Collector","icon":"fa fa-download nav","description":null,"id":"46d442ba-69e1-41f7-b750-25d7f09c7b35","type":2,"enabled":1,"url":"/api/woven/synchronizations/objectSyncJobs/query/","order":14,"zhName":"对象采集","halfSelect":true}],"name":"数据集成","enName":"Data Integration","icon":"icon iconfont icon-ir-integration nav","description":null,"id":"909a667d-9002-4ad4-ba17-a926076ef8af","type":1,"enabled":1,"url":"/api/woven/dataintegration/","order":8,"zhName":"数据集成","halfSelect":true},{"code":"0201","route":"/resourceMan","children":[],"name":"资源目录","enName":"Resource Directory","icon":"fa fa-server nav","description":null,"id":"e49d11e5-e581-40ce-9eaf-3ecc8a8d8c89","type":2,"enabled":1,"url":"/api/woven/resource/roots/","order":9,"zhName":"资源目录","halfSelect":true},{"code":"0202","route":"/dataMan","children":[],"name":"文件管理","enName":"File Management","icon":"fa fa-file-zip-o nav","description":null,"id":"fb9fbe56-c7af-4574-ac85-2adbf412224b","type":2,"enabled":1,"url":"/api/oss/file/","order":10,"zhName":"文件管理","halfSelect":true},{"code":"0203","route":"/synchronization","children":[],"name":"数据导入","enName":"Data Import","icon":"fa fa-cloud-download nav","description":null,"id":"0abc4226-d610-4133-8b1b-02f331a6ea1b","type":2,"enabled":1,"url":"/api/woven/synchronizations/dataSyncJobs/query/","order":11,"zhName":"数据导入","halfSelect":true},{"code":"0204","route":"/fileSynchronization","children":[],"name":"文件导入","enName":"File Import","icon":"fa fa-download nav","description":null,"id":"b4047c26-707b-45ba-ac10-8ba7333f8d63","type":2,"enabled":1,"url":"/api/woven/synchronizations/fileSyncJobs/query/","order":12,"zhName":"文件导入","halfSelect":true},{"code":"0205","route":"/collector","children":[],"name":"采集器","enName":"Data Collector","icon":"fa fa-shopping-basket nav","description":null,"id":"054da034-91c7-4aea-8889-1da8363e09ab","type":2,"enabled":1,"url":"/api/woven/collectors/query/","order":13,"zhName":"采集器","halfSelect":true},{"code":"0206","route":"/objectSynchronization","children":[],"name":"对象采集","enName":"Object Data Collector","icon":"fa fa-download nav","description":null,"id":"46d442ba-69e1-41f7-b750-25d7f09c7b35","type":2,"enabled":1,"url":"/api/woven/synchronizations/objectSyncJobs/query/","order":14,"zhName":"对象采集","halfSelect":true},{"code":"03","route":"/dataGovernance","children":[{"code":"0301","route":"/qualityAnalysis/analysisTemplate","children":[],"name":"质量分析","enName":"Dataset Quality","icon":"fa fa-balance-scale nav","description":null,"id":"2783b20d-63dc-4001-b89a-e380bd03f654","type":2,"enabled":1,"url":"/api/woven/zmod/query/","order":16,"zhName":"质量分析","halfSelect":true},{"code":"0302","route":"/schemaAnalysis/:id/","children":[],"name":"元数据分析","enName":"Schema Relation","icon":"fa fa-flask nav","description":null,"id":"1fe39e2a-4caf-4634-8c34-3ade1d786d69","type":2,"enabled":1,"url":"/api/woven/metadataAnalysis/","order":17,"zhName":"元数据分析","halfSelect":true},{"code":"0303","route":"/kinship/:id/","children":[],"name":"血缘分析","enName":"Dataset Lineage","icon":"fa fa-flask nav","description":null,"id":"563e03e4-d640-4dd3-8d78-2aed82e44a25","type":2,"enabled":1,"url":"/api/woven/consanguinityAnalysis/","order":18,"zhName":"血缘分析","halfSelect":true}],"name":"数据治理","enName":"Data Governance","icon":"icon iconfont icon-ir-govern nav","description":null,"id":"55583aa9-5617-4e6d-8b3e-bf9ba762b0cf","type":1,"enabled":1,"url":"/api/woven/datagovernance/","order":15,"zhName":"数据治理","halfSelect":true},{"code":"0301","route":"/qualityAnalysis/analysisTemplate","children":[],"name":"质量分析","enName":"Dataset Quality","icon":"fa fa-balance-scale nav","description":null,"id":"2783b20d-63dc-4001-b89a-e380bd03f654","type":2,"enabled":1,"url":"/api/woven/zmod/query/","order":16,"zhName":"质量分析","halfSelect":true},{"code":"0302","route":"/schemaAnalysis/:id/","children":[],"name":"元数据分析","enName":"Schema Relation","icon":"fa fa-flask nav","description":null,"id":"1fe39e2a-4caf-4634-8c34-3ade1d786d69","type":2,"enabled":1,"url":"/api/woven/metadataAnalysis/","order":17,"zhName":"元数据分析","halfSelect":true},{"code":"0303","route":"/kinship/:id/","children":[],"name":"血缘分析","enName":"Dataset Lineage","icon":"fa fa-flask nav","description":null,"id":"563e03e4-d640-4dd3-8d78-2aed82e44a25","type":2,"enabled":1,"url":"/api/woven/consanguinityAnalysis/","order":18,"zhName":"血缘分析","halfSelect":true},{"code":"04","route":"/dataAnalysis","children":[{"code":"0401","route":"/design","children":[],"name":"流程管理","enName":"Flow Management","icon":"fa fa-sitemap nav","description":null,"id":"4e4843ab-a282-42a1-b44c-f922c874042e","type":2,"enabled":1,"url":"/api/woven/resource/roots/","order":20,"zhName":"流程管理","halfSelect":true},{"code":"0402","route":"/interactiveQuery","children":[],"name":"交互式查询","enName":"Interactive Query","icon":"icon iconfont icon-ir-integration nav","description":null,"id":"15bb0bf9-4c87-4da5-8d49-14aee00a4ea3","type":2,"enabled":1,"url":"/api/woven/interactiveQuery/","order":21,"zhName":"交互式查询","halfSelect":true},{"code":"0403","route":"/resourceManProject","children":[],"name":"项目目录","enName":"Data Warehouse View","icon":"fa fa-tasks nav","description":null,"id":"a94281f2-c272-4788-b237-2760413185d2","type":2,"enabled":1,"url":"/api/woven/project/projects/","order":22,"zhName":"项目目录","halfSelect":true},{"code":"0404","route":"","children":[{"code":"040401","route":"/processconfig/workflow-selector","children":[],"name":"工作流选择器","enName":"Workflow Selecter","icon":"fa fa-tasks nav","description":null,"id":"3734ec92-d1f1-42e3-bda5-7c760b846dfa","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":24,"zhName":"工作流选择器","halfSelect":true},{"code":"040402","route":"/processconfig/dataflow-selector","children":[],"name":"批处理选择器","enName":"Batch Step Selecter","icon":"fa fa-tasks nav","description":null,"id":"18a62f0c-13c8-401e-8022-5e69ab232b1a","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":25,"zhName":"批处理选择器","halfSelect":true},{"code":"040403","route":"/processconfig/dataflow-udf","children":[],"name":"自定义函数","enName":"Batch UDF","icon":"icon iconfont icon-ir-integration nav","description":null,"id":"65bb0f61-9760-4107-be1b-553f601d2869","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":26,"zhName":"自定义函数","halfSelect":true},{"code":"040404","route":"/processconfig/filter-class","children":[],"name":"过滤器","enName":"Batch Step Filter","icon":"fa fa-tasks nav","description":null,"id":"de83ab97-f7ef-4bb9-b5e5-6758d85f06a3","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":27,"zhName":"过滤器","halfSelect":true},{"code":"040405","route":"/processconfig/jdbc-driver","children":[],"name":"数据库驱动","enName":"Database Driver(JDBC)","icon":"fa fa-sitemap nav","description":null,"id":"ab59a530-c95e-4210-b782-0cc7c011df58","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":28,"zhName":"数据库驱动","halfSelect":true},{"code":"040406","route":"/processconfig/step-define","children":[],"name":"自定义节点","enName":"Customized Batch Node","icon":"fa fa-sitemap nav","description":null,"id":"eedd55dc-7387-4bc1-928a-37165f6c13b4","type":2,"enabled":1,"url":"/api/customizestep/query","order":29,"zhName":"自定义节点","halfSelect":true},{"code":"040407","route":"/processconfig/manage","children":[],"name":"依赖包管理","enName":"Dependency Management","icon":"fa fa-sitemap nav","description":null,"id":"33701da8-a65e-4d47-a6d6-4184ffe6bf0f","type":2,"enabled":1,"url":"/api/processconfig/manage","order":30,"zhName":"依赖包管理","halfSelect":true}],"name":"配置","enName":"Configuration","icon":"fa fa-gears nav","description":null,"id":"1e7b06f5-105d-4c3d-b030-2cb4f1c45d03","type":2,"enabled":1,"url":"/api/woven/configuration/","order":23,"zhName":"配置","halfSelect":true},{"code":"0405","route":"/hippoScheduleList","children":[],"name":"任务调度","enName":"Job Schedule","icon":"fa fa-tasks nav","description":null,"id":"e95e2c3c-f24c-46da-9ced-d559256286c4","type":2,"enabled":1,"url":"/api/woven/taskScheduling/","order":31,"zhName":"任务调度","halfSelect":true}],"name":"数据分析","enName":"Data Analytics","icon":"icon iconfont icon-ir-analyze nav","description":null,"id":"54c387aa-4c88-438d-8bc0-3508c1343d3b","type":1,"enabled":1,"url":"/api/woven/dataAnalysis/","order":19,"zhName":"数据分析","halfSelect":true},{"code":"0401","route":"/design","children":[],"name":"流程管理","enName":"Flow Management","icon":"fa fa-sitemap nav","description":null,"id":"4e4843ab-a282-42a1-b44c-f922c874042e","type":2,"enabled":1,"url":"/api/woven/resource/roots/","order":20,"zhName":"流程管理","halfSelect":true},{"code":"0402","route":"/interactiveQuery","children":[],"name":"交互式查询","enName":"Interactive Query","icon":"icon iconfont icon-ir-integration nav","description":null,"id":"15bb0bf9-4c87-4da5-8d49-14aee00a4ea3","type":2,"enabled":1,"url":"/api/woven/interactiveQuery/","order":21,"zhName":"交互式查询","halfSelect":true},{"code":"0403","route":"/resourceManProject","children":[],"name":"项目目录","enName":"Data Warehouse View","icon":"fa fa-tasks nav","description":null,"id":"a94281f2-c272-4788-b237-2760413185d2","type":2,"enabled":1,"url":"/api/woven/project/projects/","order":22,"zhName":"项目目录","halfSelect":true},{"code":"0404","route":"","children":[{"code":"040401","route":"/processconfig/workflow-selector","children":[],"name":"工作流选择器","enName":"Workflow Selecter","icon":"fa fa-tasks nav","description":null,"id":"3734ec92-d1f1-42e3-bda5-7c760b846dfa","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":24,"zhName":"工作流选择器","halfSelect":true},{"code":"040402","route":"/processconfig/dataflow-selector","children":[],"name":"批处理选择器","enName":"Batch Step Selecter","icon":"fa fa-tasks nav","description":null,"id":"18a62f0c-13c8-401e-8022-5e69ab232b1a","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":25,"zhName":"批处理选择器","halfSelect":true},{"code":"040403","route":"/processconfig/dataflow-udf","children":[],"name":"自定义函数","enName":"Batch UDF","icon":"icon iconfont icon-ir-integration nav","description":null,"id":"65bb0f61-9760-4107-be1b-553f601d2869","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":26,"zhName":"自定义函数","halfSelect":true},{"code":"040404","route":"/processconfig/filter-class","children":[],"name":"过滤器","enName":"Batch Step Filter","icon":"fa fa-tasks nav","description":null,"id":"de83ab97-f7ef-4bb9-b5e5-6758d85f06a3","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":27,"zhName":"过滤器","halfSelect":true},{"code":"040405","route":"/processconfig/jdbc-driver","children":[],"name":"数据库驱动","enName":"Database Driver(JDBC)","icon":"fa fa-sitemap nav","description":null,"id":"ab59a530-c95e-4210-b782-0cc7c011df58","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":28,"zhName":"数据库驱动","halfSelect":true},{"code":"040406","route":"/processconfig/step-define","children":[],"name":"自定义节点","enName":"Customized Batch Node","icon":"fa fa-sitemap nav","description":null,"id":"eedd55dc-7387-4bc1-928a-37165f6c13b4","type":2,"enabled":1,"url":"/api/customizestep/query","order":29,"zhName":"自定义节点","halfSelect":true},{"code":"040407","route":"/processconfig/manage","children":[],"name":"依赖包管理","enName":"Dependency Management","icon":"fa fa-sitemap nav","description":null,"id":"33701da8-a65e-4d47-a6d6-4184ffe6bf0f","type":2,"enabled":1,"url":"/api/processconfig/manage","order":30,"zhName":"依赖包管理","halfSelect":true}],"name":"配置","enName":"Configuration","icon":"fa fa-gears nav","description":null,"id":"1e7b06f5-105d-4c3d-b030-2cb4f1c45d03","type":2,"enabled":1,"url":"/api/woven/configuration/","order":23,"zhName":"配置","halfSelect":true},{"code":"040401","route":"/processconfig/workflow-selector","children":[],"name":"工作流选择器","enName":"Workflow Selecter","icon":"fa fa-tasks nav","description":null,"id":"3734ec92-d1f1-42e3-bda5-7c760b846dfa","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":24,"zhName":"工作流选择器","halfSelect":true},{"code":"040402","route":"/processconfig/dataflow-selector","children":[],"name":"批处理选择器","enName":"Batch Step Selecter","icon":"fa fa-tasks nav","description":null,"id":"18a62f0c-13c8-401e-8022-5e69ab232b1a","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":25,"zhName":"批处理选择器","halfSelect":true},{"code":"040403","route":"/processconfig/dataflow-udf","children":[],"name":"自定义函数","enName":"Batch UDF","icon":"icon iconfont icon-ir-integration nav","description":null,"id":"65bb0f61-9760-4107-be1b-553f601d2869","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":26,"zhName":"自定义函数","halfSelect":true},{"code":"040404","route":"/processconfig/filter-class","children":[],"name":"过滤器","enName":"Batch Step Filter","icon":"fa fa-tasks nav","description":null,"id":"de83ab97-f7ef-4bb9-b5e5-6758d85f06a3","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":27,"zhName":"过滤器","halfSelect":true},{"code":"040405","route":"/processconfig/jdbc-driver","children":[],"name":"数据库驱动","enName":"Database Driver(JDBC)","icon":"fa fa-sitemap nav","description":null,"id":"ab59a530-c95e-4210-b782-0cc7c011df58","type":2,"enabled":1,"url":"/api/processconfigs/query/","order":28,"zhName":"数据库驱动","halfSelect":true},{"code":"040406","route":"/processconfig/step-define","children":[],"name":"自定义节点","enName":"Customized Batch Node","icon":"fa fa-sitemap nav","description":null,"id":"eedd55dc-7387-4bc1-928a-37165f6c13b4","type":2,"enabled":1,"url":"/api/customizestep/query","order":29,"zhName":"自定义节点","halfSelect":true},{"code":"040407","route":"/processconfig/manage","children":[],"name":"依赖包管理","enName":"Dependency Management","icon":"fa fa-sitemap nav","description":null,"id":"33701da8-a65e-4d47-a6d6-4184ffe6bf0f","type":2,"enabled":1,"url":"/api/processconfig/manage","order":30,"zhName":"依赖包管理","halfSelect":true},{"code":"0405","route":"/hippoScheduleList","children":[],"name":"任务调度","enName":"Job Schedule","icon":"fa fa-tasks nav","description":null,"id":"e95e2c3c-f24c-46da-9ced-d559256286c4","type":2,"enabled":1,"url":"/api/woven/taskScheduling/","order":31,"zhName":"任务调度","halfSelect":true},{"code":"05","route":"/realTimeComputing","children":[{"code":"0501","route":"/jobManage","children":[],"name":"作业管理","enName":"Job Management","icon":"fa fa-calendar-o nav","description":null,"id":"ad38179a-8086-462f-8cc0-05bf94a990db","type":2,"enabled":1,"url":"/api/streaming/job/list/","order":33,"zhName":"作业管理","halfSelect":true},{"code":"0502","route":"/jobOperation","children":[],"name":"作业运维","enName":"Job Operations","icon":"fa fa-leaf nav","description":null,"id":"ff0ffaba-5b5c-43a3-8552-b8b568d9c5dd","type":2,"enabled":1,"url":"/api/streaming/job/progress/list/","order":34,"zhName":"作业运维","halfSelect":true},{"code":"0503","route":"/jobTemplate","children":[],"name":"作业模板","enName":"Job Template","icon":"fa fa-calendar-o nav","description":null,"id":"0ac73bcf-ba57-4268-9586-ed9a4ada62ec","type":2,"enabled":1,"url":"/api/streaming/job/template/list/","order":35,"zhName":"作业模板","halfSelect":true},{"code":"0505","route":"/realtime/list/index","children":[],"name":"实时计算流程设计","enName":"Streaming Job Designer","icon":"fa fa-calendar-o nav","description":null,"id":"673bc843-01fb-4dfb-9ca3-0dea8e519451","type":2,"enabled":1,"url":"/api/streaming/job/realtime/list/","order":37,"zhName":"实时计算流程设计","halfSelect":true},{"code":"0506","route":"/realtime/list/tasklist","children":[],"name":"实时计算任务监控","enName":"Streaming Job Dashboard","icon":"fa fa-calendar-o nav","description":null,"id":"a38b875b-1516-4e85-ba2b-059315bf0803","type":2,"enabled":1,"url":"/api/streaming/job/realtime/task/","order":38,"zhName":"实时计算任务监控","halfSelect":true}],"name":"实时计算","enName":"Runtime Computing","icon":"icon iconfont icon-ir-attestation nav","description":null,"id":"664aef05-a867-4c6a-9287-e23c2f500f5b","type":1,"enabled":1,"url":"/api/woven/realtimeComputation/","order":32,"zhName":"实时计算","halfSelect":true},{"code":"0501","route":"/jobManage","children":[],"name":"作业管理","enName":"Job Management","icon":"fa fa-calendar-o nav","description":null,"id":"ad38179a-8086-462f-8cc0-05bf94a990db","type":2,"enabled":1,"url":"/api/streaming/job/list/","order":33,"zhName":"作业管理","halfSelect":true},{"code":"0502","route":"/jobOperation","children":[],"name":"作业运维","enName":"Job Operations","icon":"fa fa-leaf nav","description":null,"id":"ff0ffaba-5b5c-43a3-8552-b8b568d9c5dd","type":2,"enabled":1,"url":"/api/streaming/job/progress/list/","order":34,"zhName":"作业运维","halfSelect":true},{"code":"0503","route":"/jobTemplate","children":[],"name":"作业模板","enName":"Job Template","icon":"fa fa-calendar-o nav","description":null,"id":"0ac73bcf-ba57-4268-9586-ed9a4ada62ec","type":2,"enabled":1,"url":"/api/streaming/job/template/list/","order":35,"zhName":"作业模板","halfSelect":true},{"code":"0505","route":"/realtime/list/index","children":[],"name":"实时计算流程设计","enName":"Streaming Job Designer","icon":"fa fa-calendar-o nav","description":null,"id":"673bc843-01fb-4dfb-9ca3-0dea8e519451","type":2,"enabled":1,"url":"/api/streaming/job/realtime/list/","order":37,"zhName":"实时计算流程设计","halfSelect":true},{"code":"0506","route":"/realtime/list/tasklist","children":[],"name":"实时计算任务监控","enName":"Streaming Job Dashboard","icon":"fa fa-calendar-o nav","description":null,"id":"a38b875b-1516-4e85-ba2b-059315bf0803","type":2,"enabled":1,"url":"/api/streaming/job/realtime/task/","order":38,"zhName":"实时计算任务监控","halfSelect":true},{"code":"06","route":"/dataMonitoring","children":[{"code":"0601","route":"/hippo/index","children":[],"name":"运维管理","enName":"Operation","icon":"fa fa-life-buoy nav","description":null,"id":"e70bba2b-9447-44b5-bb44-9407f7bca3aa","type":2,"enabled":1,"url":"/api/woven/mochaitom/","order":40,"zhName":"运维管理","halfSelect":true},{"code":"0602","route":"/hippo/visualization","children":[],"name":"监控可视化","enName":"Job Dashboard","icon":"fa fa-line-chart nav","description":null,"id":"2528aec7-1407-45eb-993a-4330758f3c31","type":2,"enabled":1,"url":"/hippo/visualization/","order":41,"zhName":"监控可视化","halfSelect":true},{"code":"0603","route":"/hippo/visit","children":[],"name":"监控访问","enName":"Requst Dashboard","icon":"fa fa-line-chart nav","description":null,"id":"40098381-4098-4289-b2bb-33531cb1e84f","type":2,"enabled":1,"url":"/api/woven/accessMonitoring/","order":42,"zhName":"监控访问","halfSelect":true},{"code":"0604","route":"/hippo/taskControl","children":[{"code":"060401","route":"/hippo/schedule","children":[],"name":"任务调度","enName":"Job Schedule","icon":"fa fa-server nav","description":null,"id":"cd51af3b-aafc-40ca-b96b-6ed08d50457a","type":2,"enabled":1,"url":"/api/woven/taskScheduling/","order":44,"zhName":"任务调度","halfSelect":true},{"code":"060403","route":"/hippo/service","children":[],"name":"后台服务","enName":null,"icon":"fa fa-server nav","description":null,"id":"3797b852-8d43-4d00-bb24-9ac53a79e18b","type":2,"enabled":1,"url":"/api/woven/hippo/service/","order":46,"zhName":"后台服务","halfSelect":true},{"code":"060404","route":"/hippo/taskControl","children":[],"name":"任务监控","enName":"Job Monitor","icon":"fa fa-area-chart nav","description":null,"id":"dbca5f84-7421-421e-ae96-6a7c73ce6162","type":2,"enabled":1,"url":"/api/woven/taskMonitoring/","order":47,"zhName":"任务监控","halfSelect":true}],"name":"任务","enName":"Job","icon":"fa fa-area-chart nav","description":null,"id":"c0cb987e-eb53-4488-b080-888a6f733286","type":2,"enabled":1,"url":"/api/woven/taskMonitoring/","order":43,"zhName":"任务","halfSelect":true},{"code":"0611","route":"/hippo/taskWarnings","children":[],"name":"任务警告","enName":"Alert","icon":"fa fa-area-chart nav","description":null,"id":"f9c38e1c-b74d-41f2-925b-592f35938e78","type":2,"enabled":1,"url":"/hippo/taskWarnings","order":64,"zhName":"任务警告","halfSelect":true}],"name":"数据监控","enName":"Dashboard","icon":"icon iconfont icon-ir-monitoring nav","description":null,"id":"99c93c3d-86bb-4cd0-ba6a-3bfb0afb7ad1","type":1,"enabled":1,"url":"/api/woven/dataMonitoring/","order":39,"zhName":"数据监控","halfSelect":true},{"code":"0601","route":"/hippo/index","children":[],"name":"运维管理","enName":"Operation","icon":"fa fa-life-buoy nav","description":null,"id":"e70bba2b-9447-44b5-bb44-9407f7bca3aa","type":2,"enabled":1,"url":"/api/woven/mochaitom/","order":40,"zhName":"运维管理","halfSelect":true},{"code":"0602","route":"/hippo/visualization","children":[],"name":"监控可视化","enName":"Job Dashboard","icon":"fa fa-line-chart nav","description":null,"id":"2528aec7-1407-45eb-993a-4330758f3c31","type":2,"enabled":1,"url":"/hippo/visualization/","order":41,"zhName":"监控可视化","halfSelect":true},{"code":"0603","route":"/hippo/visit","children":[],"name":"监控访问","enName":"Requst Dashboard","icon":"fa fa-line-chart nav","description":null,"id":"40098381-4098-4289-b2bb-33531cb1e84f","type":2,"enabled":1,"url":"/api/woven/accessMonitoring/","order":42,"zhName":"监控访问","halfSelect":true},{"code":"0604","route":"/hippo/taskControl","children":[{"code":"060401","route":"/hippo/schedule","children":[],"name":"任务调度","enName":"Job Schedule","icon":"fa fa-server nav","description":null,"id":"cd51af3b-aafc-40ca-b96b-6ed08d50457a","type":2,"enabled":1,"url":"/api/woven/taskScheduling/","order":44,"zhName":"任务调度","halfSelect":true},{"code":"060403","route":"/hippo/service","children":[],"name":"后台服务","enName":null,"icon":"fa fa-server nav","description":null,"id":"3797b852-8d43-4d00-bb24-9ac53a79e18b","type":2,"enabled":1,"url":"/api/woven/hippo/service/","order":46,"zhName":"后台服务","halfSelect":true},{"code":"060404","route":"/hippo/taskControl","children":[],"name":"任务监控","enName":"Job Monitor","icon":"fa fa-area-chart nav","description":null,"id":"dbca5f84-7421-421e-ae96-6a7c73ce6162","type":2,"enabled":1,"url":"/api/woven/taskMonitoring/","order":47,"zhName":"任务监控","halfSelect":true}],"name":"任务","enName":"Job","icon":"fa fa-area-chart nav","description":null,"id":"c0cb987e-eb53-4488-b080-888a6f733286","type":2,"enabled":1,"url":"/api/woven/taskMonitoring/","order":43,"zhName":"任务","halfSelect":true},{"code":"060401","route":"/hippo/schedule","children":[],"name":"任务调度","enName":"Job Schedule","icon":"fa fa-server nav","description":null,"id":"cd51af3b-aafc-40ca-b96b-6ed08d50457a","type":2,"enabled":1,"url":"/api/woven/taskScheduling/","order":44,"zhName":"任务调度","halfSelect":true},{"code":"060403","route":"/hippo/service","children":[],"name":"后台服务","enName":null,"icon":"fa fa-server nav","description":null,"id":"3797b852-8d43-4d00-bb24-9ac53a79e18b","type":2,"enabled":1,"url":"/api/woven/hippo/service/","order":46,"zhName":"后台服务","halfSelect":true},{"code":"060404","route":"/hippo/taskControl","children":[],"name":"任务监控","enName":"Job Monitor","icon":"fa fa-area-chart nav","description":null,"id":"dbca5f84-7421-421e-ae96-6a7c73ce6162","type":2,"enabled":1,"url":"/api/woven/taskMonitoring/","order":47,"zhName":"任务监控","halfSelect":true},{"code":"0611","route":"/hippo/taskWarnings","children":[],"name":"任务警告","enName":"Alert","icon":"fa fa-area-chart nav","description":null,"id":"f9c38e1c-b74d-41f2-925b-592f35938e78","type":2,"enabled":1,"url":"/hippo/taskWarnings","order":64,"zhName":"任务警告","halfSelect":true},{"code":"08","route":"/systemConfig","children":[{"code":"0802","route":"/roleManagement","children":null,"name":"角色管理","enName":"Role Management","icon":"icon iconfont icon-ir-integration nav","description":null,"id":"75d41efa-7787-4dcb-b973-a8ae7bfae63a","type":2,"enabled":1,"url":"/api/woven/roleManagement/","order":69,"zhName":"角色管理","halfSelect":true},{"code":"0803","route":"/userManagement","children":null,"name":"用户管理","enName":"User Management","icon":"fa fa-user-circle nav","description":null,"id":"9102445e-60ac-4ac4-9dae-21faa443ee8a","type":2,"enabled":1,"url":"/api/woven/userManagement/","order":70,"zhName":"用户管理","halfSelect":true},{"code":"0804","route":"/logAudit","children":null,"name":"日志审计","enName":"Audit Log","icon":"fa fa-user-circle nav","description":null,"id":"a345142d-e9e2-42ee-9373-24e51705394f","type":2,"enabled":1,"url":"/api/logs/metrics/request/page/","order":71,"zhName":"日志审计","halfSelect":true},{"code":"0806","route":"/cluster","children":null,"name":"集群管理","enName":"Cluster Management","icon":"fa fa-user-circle nav","description":null,"id":"3f2d2946-d943-46b8-a748-2feb52fa115b","type":2,"enabled":1,"url":"/api/cluster/query","order":73,"zhName":"集群管理","halfSelect":true},{"code":"0807","route":"/license/activate","children":null,"name":"证书管理","enName":"License Management","icon":"fa fa-user-circle nav","description":null,"id":"73c1ef31-5da4-4e52-b59a-85f72db7d86c","type":2,"enabled":1,"url":"/license/activate","order":74,"zhName":"证书管理","halfSelect":true}],"name":"系统管理","enName":"System Configuration","icon":"icon iconfont icon-ir-attestation nav","description":null,"id":"8c6c804f-ba79-4050-acff-5903d0c603be","type":1,"enabled":1,"url":"/api/woven/privilegeManagement/","order":67,"zhName":"系统管理","halfSelect":true},{"code":"0802","route":"/roleManagement","children":null,"name":"角色管理","enName":"Role Management","icon":"icon iconfont icon-ir-integration nav","description":null,"id":"75d41efa-7787-4dcb-b973-a8ae7bfae63a","type":2,"enabled":1,"url":"/api/woven/roleManagement/","order":69,"zhName":"角色管理","halfSelect":true},{"code":"0803","route":"/userManagement","children":null,"name":"用户管理","enName":"User Management","icon":"fa fa-user-circle nav","description":null,"id":"9102445e-60ac-4ac4-9dae-21faa443ee8a","type":2,"enabled":1,"url":"/api/woven/userManagement/","order":70,"zhName":"用户管理","halfSelect":true},{"code":"0804","route":"/logAudit","children":null,"name":"日志审计","enName":"Audit Log","icon":"fa fa-user-circle nav","description":null,"id":"a345142d-e9e2-42ee-9373-24e51705394f","type":2,"enabled":1,"url":"/api/logs/metrics/request/page/","order":71,"zhName":"日志审计","halfSelect":true},{"code":"0806","route":"/cluster","children":null,"name":"集群管理","enName":"Cluster Management","icon":"fa fa-user-circle nav","description":null,"id":"3f2d2946-d943-46b8-a748-2feb52fa115b","type":2,"enabled":1,"url":"/api/cluster/query","order":73,"zhName":"集群管理","halfSelect":true},{"code":"0807","route":"/license/activate","children":null,"name":"证书管理","enName":"License Management","icon":"fa fa-user-circle nav","description":null,"id":"73c1ef31-5da4-4e52-b59a-85f72db7d86c","type":2,"enabled":1,"url":"/license/activate","order":74,"zhName":"证书管理","halfSelect":true}]}
rp =requests.post(url=cjjs_url,json=cjjs_json,headers=header1).text

#-----------------------------------------创建用户----------------------------------------------------
cjyh_url = host+'/api/user/save'
cjyh_json ={"name":"dir1","loginId":"dir1","password":"123456","phone":"13436500000","email":"1@qq.com","confirmPassword":"123456","resourceQueues":["default"]}
rp =requests.post(url=cjyh_url,json=cjyh_json,headers=header1).text
#print('开始休眠')
#time.sleep(3)
#分配 用户 权限   id 是动态的
cjyh_qx_url2 = host+'/api/user/listPage'
cjyh_qx_json2={"fieldList":[],"sortObject":{"field":"lastModifiedTime","orderDirection":"DESC"},"offset":0,"limit":8}
rp =requests.post(url=cjyh_qx_url2,json=cjyh_qx_json2,headers=header1).text  
rp = json.loads(rp)
yh_id=rp["content"]["content"][0]["id"]

cjyh_qx_url = host+'/api/user/update'
cjyh_qx_json={"id":yh_id,"rolesId":["auto_js"],"roles":[{"id":"43b7602b-8e71-407b-8233-a941a0646be4"}]}
rp =requests.post(url=cjyh_qx_url,json=cjyh_qx_json,headers=header1).text
#print(rp)


##--------------------------------------获取dir1-token----------------------------------------------
#登录 获取token-dir1
dirdl_url=host+'/api/auth/login'
dirdl_header={'Accept': 'application/json, text/plain, */*',
            'Accept-Encoding': 'gzip, deflate',
            'Accept-Language': 'zh-CN,zh;q=0.9',
            'Connection': 'keep-alive',
            'Content-Length': '311',
            'Content-Type': 'application/x-www-form-urlencoded',
            'Host': '192.168.1.82:8515',
            'Origin': 'http://192.168.1.82:8515',
            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.87 Safari/537.36'}
dirdl_data='version=AES%28cc95c476c6cf74ed916f934a05bb0da3a64e769de4e7f5320347e4fc6bfa6f5248d1144f4813e55d5c0807dae20acd80%29&tenant=AES%2845cf55246a66a7817cca335b7b254312%29&name=AES%2809335a953ea2f2354bfa19ef0dddc31d%29&password=AES%2838cbd271dcecd23763faed1c4e6c9b37%29&remember=AES%28482bdeb02d7397fe752a313e4fe9b976%29'
rp=requests.post(url=dirdl_url,data=dirdl_data,headers=dirdl_header).text
rp=rp.split('"')
dir_token=rp[5]


#dir_header----dir
dir_header={'Accept':'application/json, text/plain, */*',
        'Accept-Encoding':'gzip, deflate',
        'Accept-Language':'zh-CN,zh;q=0.9',
        'Connection': 'keep-alive',
        'Content-Length': '88',
        'Content-Type': 'application/json;charset=UTF-8',
        'Host': '192.168.1.82:8515',
        'Origin': 'http://192.168.1.82:8515',
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.87 Safari/537.36',
        'X-AUTH-TOKEN': 'Bearer '+dir_token}
#---------------------------------------创建文件夹及数据-----------------------------------------------
#数据标准文件夹   
sjbz_url = host+'/api/woven/resource'

sjbz_json1 = {"name":"auto_UI_a","resType":"standard_dir","parentId":"84d517ef-683b-415c-9b45-ea77ec426800"}
sjbz_json2 = {"name":"auto_UI_b","resType":"standard_dir","parentId":"84d517ef-683b-415c-9b45-ea77ec426800"}
rp =requests.post(url=sjbz_url,json=sjbz_json1,headers=header1).text
rp =requests.post(url=sjbz_url,json=sjbz_json2,headers=header1).text

#数据源文件夹 
sjy_json1 = {"name":"auto_UI","resType":"datasource_dir","parentId":"a21d99aa-4185-4292-9d5f-45a8c159bcbd"}
requests.post(url=sjbz_url,json=sjy_json1,headers=header1)

sjy_json2 = {"name":"auto_DataSource","resType":"datasource_dir","parentId":"a21d99aa-4185-4292-9d5f-45a8c159bcbd"}
requests.post(url=sjbz_url,json=sjy_json2,headers=header1)

sjy_json3 = {"name":"auto_initial_data_source","resType":"datasource_dir","parentId":"a21d99aa-4185-4292-9d5f-45a8c159bcbd"}
requests.post(url=sjbz_url,json=sjy_json3,headers=header1)

sjy_json4 = {"name":"auto_kafka_sjj","resType":"datasource_dir","parentId":"a21d99aa-4185-4292-9d5f-45a8c159bcbd"}
requests.post(url=sjbz_url,json=sjy_json4,headers=header1)
#数据源
sjy_url = host +"/api/woven/datasource"
sjysj_json = {"id":"","name":"dbs_mysql_info10","type":"DB","description":"","attributes":{"jarPath":"mysql-connector-java.jar","DBType":"Mysql","host":"192.168.1.199","port":"3306","database":"wac666","user":"merce","password":"AES(3cde4fd05c58aee9937bfb2db12c9a91)","driver":"com.mysql.jdbc.Driver","properties":[{"name":"","value":""}],"url":"jdbc:mysql://192.168.1.199:3306/wac666","chineseName":"","dateToTimestamp":"false","catalog":"","schema":"","batchsize":"10000","name":"auto_mysql"},"resource":{"id":"05fcf2df-e8c7-44de-a0c3-e23ed45048bf"}}
requests.post(url=sjy_url,json=sjysj_json,headers=dir_header)


sjysj2_json = {"id":"","name":"dbs_oracle_info10","type":"DB","description":"","attributes":{"jarPath":"ojdbc7.jar","DBType":"Oracle Thin","host":"info3","port":"1521","database":"orcl","user":"carpo","password":"AES(3cde4fd05c58aee9937bfb2db12c9a91)","driver":"oracle.jdbc.driver.OracleDriver","properties":[{"name":"","value":""}],"url":"jdbc:oracle:thin:@info3:1521:orcl","chineseName":"","dateToTimestamp":"false","catalog":"","schema":"","batchsize":"10000","name":"auto_oracle","version":"9i"},"resource":{"id":"05fcf2df-e8c7-44de-a0c3-e23ed45048bf"}}
requests.post(url=sjy_url,json=sjysj2_json,headers=dir_header)

#元数据文件夹
ysj_json1 = {"name":"auto_UI","resType":"schema_dir","parentId":"c747d105-18b6-440c-ad57-96d05ac3b238"}
requests.post(url=sjbz_url,json=ysj_json1,headers=header1)

ysj_json2 = {"name":"move_to","resType":"schema_dir","parentId":"c747d105-18b6-440c-ad57-96d05ac3b238"}
requests.post(url=sjbz_url,json=ysj_json2,headers=header1)

ysj_json3 = {"name":"auto_initial_schema","resType":"schema_dir","parentId":"c747d105-18b6-440c-ad57-96d05ac3b238"}
requests.post(url=sjbz_url,json=ysj_json3,headers=header1)

#元数据
ysjsj_url =host+'/api/schemas'
ysjsj_json = {"id":"","name":"schema_id_name_age_gender","description":"","fields":[{"name":"id","type":"string","description":""},{"name":"name","type":"string","description":""},{"name":"age","type":"string","description":""}],"resource":{"id":"8e6232ba-ee6b-49dc-8d50-1bae32178443"}}
requests.post(url=ysjsj_url,json=ysjsj_json,headers=dir_header)

#数据集文件夹
sjj_json = {"name":"auto_dataset","resType":"dataset_dir","parentId":"ef76b3b6-0f48-47a2-82e7-fb5eb3f2baab"}
requests.post(url=sjbz_url,json=sjj_json,headers=header1)


sjj_json2 = {"name":"movo_to_dataset","resType":"dataset_dir","parentId":"ef76b3b6-0f48-47a2-82e7-fb5eb3f2baab"}
requests.post(url=sjbz_url,json=sjj_json2,headers=header1)

sjj_json3 = {"name":"auto_HDFSdataset","resType":"dataset_dir","parentId":"ef76b3b6-0f48-47a2-82e7-fb5eb3f2baab"}
requests.post(url=sjbz_url,json=sjj_json3,headers=header1)

#数据集    有问题
##sjjsj_url= host+"/api/datasets"
#sjjsj_json={"id":"","name":"auto_oracle_ds","description":"","expiredPeriod":0,"storage":"JDBC","storageConfigurations":{"name":"dbs_oracle_info10","table":"MERCE_ALG","schema":"","jarPath":"ojdbc7.jar","catalog":"","DBType":"Oracle Thin","batchsize":10000,"version":"9i","url":"jdbc:oracle:thin:@info3:1521:orcl","database":"orcl","password":"AES(3cde4fd05c58aee9937bfb2db12c9a91)","driver":"oracle.jdbc.driver.OracleDriver","port":"1521","host":"info3","chineseName":"","user":"carpo","dateToTimestamp":"false","username":"carpo","resType":"DB","id":"66c062bc-cd07-470b-9a28-ed944f48663f"},"schema":{"name":"auto_oracle_ds_MERCE_ALG","fields":[{"name":"ID","type":"string"},{"name":"CREATE_TIME","type":"date"},{"name":"CREATOR","type":"string"},{"name":"DESCRIPTION","type":"string"},{"name":"ENABLED","type":"double"},{"name":"EXPIRED_TIME","type":"double"},{"name":"LAST_MODIFIED_TIME","type":"date"},{"name":"LAST_MODIFIER","type":"string"},{"name":"MODULE_VERSION","type":"double"},{"name":"NAME","type":"string"},{"name":"OWNER","type":"string"},{"name":"VERSION","type":"double"},{"name":"TENANT_ID","type":"string"}],"resource":{"id":"c747d105-18b6-440c-ad57-96d05ac3b238"},"projectEntity":{"id":""}},"schemaVersion":"","resource":{"id":"c36777b4-b22c-4ab8-b3ab-48ee719b2e19"}}
#rp=requests.post(url=sjjsj_url,json=sjjsj_json,headers=dir_header).text
#print(rp)


#----------------------------------------上传依赖包--------------------------------------------------------
'''
#UI自动化
chromedriver = PATH("../exe/chromedriver.exe")
driver = webdriver.Chrome(chromedriver)
actions = ActionChains(driver)
driver.maximize_window()
driver.get(host+'/#/login')
time.sleep(10)
driver.find_element_by_xpath("//*[@class='el-input__inner']").click()
time.sleep(2)
driver.find_element_by_xpath("//*[@class='el-input__inner']").send_keys("default")
time.sleep(2)
driver.find_element_by_xpath("//*[@class='el-input__inner']").send_keys(Keys.ENTER)  #输入回车键
driver.find_element_by_name("name").send_keys("admin")
driver.find_element_by_name("password").send_keys("123456")
driver.find_element_by_name("login.login").click()
time.sleep(10)
driver.get(host+'/#/processconfig/manage')
time.sleep(15)
driver.find_element_by_xpath("//*[text()='上传']").click()
time.sleep(2)


main1 =PATH("../exe/hive-jdbc.exe") #hive-jdbc
print (main1)
os.system(main1)
time.sleep(2)
driver.find_element_by_xpath("//*[text()='上传']").click()
time.sleep(2)
main2 =PATH("../exe/mysql-connector-java.exe") #mysql-connector-java
print (main2)
os.system(main2)
time.sleep(2)
driver.find_element_by_xpath("//*[text()='上传']").click()
time.sleep(2)
main3 =PATH("../exe/ojdbc7.exe") #ojdbc7
print (main3)
os.system(main3)
'''
#----------------------------------------创建驱动---dir用户--------------------------------------------------------
#auto_mysql
mysqlqd_url = host+'/api/processconfigs/registerFlowConfig/jdbc%20driver/mysql-connector-java.jar'
mysqlqd_json1 = [{"className":"com.mysql.jdbc.Driver","name":"auto_mysql","parameterlist":"{\"defaultPort\":3306,\"url\":\"jdbc:mysql://[HOST]:[PORT]/[DB]\",\"paraPrefix\":\"?\",\"paraSep\":\"&\"}","returnType":"","aliasName":"","dbType":"Mysql","processConfigType":"jdbc driver"}]
rp=requests.post(url=mysqlqd_url,json=mysqlqd_json1,headers=dir_header).text
#print(rp)

#auto_oracle
oracleqd_url = host+'/api/processconfigs/registerFlowConfig/jdbc%20driver/ojdbc7.jar'
oracleqd_json1 = [{"className":"oracle.jdbc.driver.OracleDriver","name":"auto_oracle","parameterlist":"{\"defaultPort\":1521,\"url\":\"jdbc:oracle:thin:@[HOST]:[PORT]:[DB]\",\"paraPrefix\":\":\",\"paraSep\":\";\"}","returnType":"","aliasName":"","dbType":"Oracle Thin","processConfigType":"jdbc driver"}]
rp=requests.post(url=oracleqd_url,json=oracleqd_json1,headers=dir_header).text
#print(rp)

#auto_hive
hiveqd_url = host+'/api/processconfigs/registerFlowConfig/jdbc%20driver/hive-jdbc.jar'
hiveqd_json1 = [{"className":"org.apache.hive.jdbc.HiveDriver","name":"auto_hive","parameterlist":"{\"defaultPort\":10000,\"url\":\"jdbc:hive2://[HOST]:[PORT]/[DB]\",\"paraPrefix\":\";\",\"paraSep\":\";\"}","returnType":"","aliasName":"","dbType":"HIVE","processConfigType":"jdbc driver"}]
rp=requests.post(url=hiveqd_url,json=hiveqd_json1,headers=dir_header).text
#print(rp)
'''



#----------------------------------------编辑资源----------------------------------------------------
# 注意 json串里的 id  是否变化           每次新建资源或目录里的权限 都得改





'''